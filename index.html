<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compras da Nossa Casa</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <main>
        <div class="pai">
            <div class="filho">
                <div class="utensilios">
                    <span>Adicionar Utensílios: </span>
                    <input type="text" id="inputUtensilios" placeholder="Digite um item">
                    <button onclick="adicionarItem('utensilios')">Adicionar</button>
                </div>
                <section id="listaUtensilios">
                    <!-- <div class="item">
                        <input type="checkbox" name="" id="riscar">
                        <span>Varal</span>
                    </div>
                    <div class="item">
                        <input type="checkbox" name="" id="riscar">
                        <span>Vassoura</span>
                    </div>
                    <div class="item">
                        <input type="checkbox" name="" id="riscar">
                        <span>Flanelas</span>
                    </div> -->
                </section>
            </div>

            <div class="filho">
                <div class="utensilios">
                    <span>Adicionar Móveis: </span>
                    <input id="inputMoveis" placeholder="Digite um item" type="text">
                    <button onclick="adicionarItem('moveis')">Adicionar</button>
                </div>
                <section id="listaMoveis">
                    <!-- <div class="item">
                        <input type="checkbox" name="" id="riscar">
                        <span>Ventilador</span>
                    </div>

                    <div class="item">
                        <input type="checkbox" name="" id="riscar">
                        <span>Base para a cama</span>
                    </div>

                    <div class="item">
                        <input type="checkbox" name="" id="riscar">
                        <span>Fogão</span>
                    </div>
                    <div class="item">
                        <input type="checkbox" name="" id="riscar">
                        <span>Geladeira</span>
                    </div> -->
                </section>
            </div>
        </div>
    </main>


    <script>
    const STORAGE_UTENSILIOS = 'listaUtensilios';
    const STORAGE_MOVEIS = 'listaMoveis';

    document.addEventListener('DOMContentLoaded', () => {
        carregarLista('utensilios');
        carregarLista('moveis');
    });

    function adicionarItem(tipo) {
        const input = document.getElementById(
            tipo === 'utensilios' ? 'inputUtensilios' : 'inputMoveis'
        );

        const lista = document.getElementById(
            tipo === 'utensilios' ? 'listaUtensilios' : 'listaMoveis'
        );

        const texto = input.value.trim();
        if (!texto) return;

        criarItem(lista, texto, false);
        salvarLista(tipo);
        input.value = '';
    }

    function criarItem(lista, texto, marcado) {
        const div = document.createElement('div');
        div.className = 'item';

        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.checked = marcado;

        checkbox.addEventListener('change', () => {
            salvarLista(lista.id === 'listaUtensilios' ? 'utensilios' : 'moveis');
        });

        const span = document.createElement('span');
        span.textContent = texto;

        div.append(checkbox, span);
        lista.appendChild(div);
    }

    function salvarLista(tipo) {
        const lista = document.getElementById(
            tipo === 'utensilios' ? 'listaUtensilios' : 'listaMoveis'
        );

        const itens = [];
        lista.querySelectorAll('.item').forEach(item => {
            itens.push({
                texto: item.querySelector('span').textContent,
                marcado: item.querySelector('input').checked
            });
        });

        localStorage.setItem(
            tipo === 'utensilios' ? STORAGE_UTENSILIOS : STORAGE_MOVEIS,
            JSON.stringify(itens)
        );
    }

    function carregarLista(tipo) {
        const lista = document.getElementById(
            tipo === 'utensilios' ? 'listaUtensilios' : 'listaMoveis'
        );

        const dados = JSON.parse(
            localStorage.getItem(
                tipo === 'utensilios' ? STORAGE_UTENSILIOS : STORAGE_MOVEIS
            )
        ) || [];

        dados.forEach(item => criarItem(lista, item.texto, item.marcado));
    }
</script>
<!--localStorage.clear();   Apagar o localStorage  -->

</body>

</html>